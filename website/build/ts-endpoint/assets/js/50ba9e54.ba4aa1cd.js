"use strict";(self.webpackChunk_ts_endpoint_docs=self.webpackChunk_ts_endpoint_docs||[]).push([[876],{5318:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var r=n(7378);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),l=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=l(n),m=o,f=u["".concat(p,".").concat(m)]||u[m]||c[m]||i;return n?r.createElement(f,a(a({ref:t},d),{},{components:n})):r.createElement(f,a({ref:t},d))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[u]="string"==typeof e?e:o,a[1]=s;for(var l=2;l<i;l++)a[l]=n[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7556:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>p,default:()=>f,frontMatter:()=>s,metadata:()=>l,toc:()=>u});var r=n(5773),o=n(808),i=(n(7378),n(5318)),a=["components"],s={id:"simple-guide",title:"simple guide to start with `ts-endpoint`"},p=void 0,l={unversionedId:"ts-endpoint/simple-guide",id:"ts-endpoint/simple-guide",title:"simple guide to start with `ts-endpoint`",description:"Other than plain static types definitions, when you define an Endpoint you also want it to be able to validate, serialize and deserialize HTTP payloads into runtime values that are easy to handle in your source code.",source:"@site/../docs/ts-endpoint/simple-guide.md",sourceDirName:"ts-endpoint",slug:"/ts-endpoint/simple-guide",permalink:"/docs/ts-endpoint/simple-guide",draft:!1,tags:[],version:"current",lastUpdatedBy:"fes300",lastUpdatedAt:1619799699,formattedLastUpdatedAt:"Apr 30, 2021",frontMatter:{id:"simple-guide",title:"simple guide to start with `ts-endpoint`"},sidebar:"docs",previous:{title:"setting up `ts-endpoint`",permalink:"/docs/ts-endpoint/intro"}},d={},u=[],c={toc:u},m="wrapper";function f(e){var t=e.components,n=(0,o.Z)(e,a);return(0,i.kt)(m,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Other than plain static types definitions, when you define an Endpoint you also want it to be able to validate, serialize and deserialize HTTP payloads into runtime values that are easy to handle in your source code."),(0,i.kt)("p",null,"In ",(0,i.kt)("inlineCode",{parentName:"p"},"ts-endpoint")," this power is encapsulated in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Codec")," interface:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"export interface Codec<E, A, B> {\n  encode: (b: B) => A;\n  decode: (b: unknown) => Either<E, B>;\n}\n")),(0,i.kt)("p",null,"Fur our purposes, a ",(0,i.kt)("inlineCode",{parentName:"p"},"Codec")," is a data structure that knows how to:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"encode")," a runtime value into a valid transport layer format"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"decode")," a value coming from the transport layer into a valid runtime value (or an error in case the value is not well-formatted).")),(0,i.kt)("p",null,"A valid Endpoint will use a specific ",(0,i.kt)("inlineCode",{parentName:"p"},"Codec")," to parse both its Input and Output runtime values:"),(0,i.kt)("p",null,"(",(0,i.kt)("strong",{parentName:"p"},"N.B.:")," in the following examples we use ",(0,i.kt)("inlineCode",{parentName:"p"},"io-ts")," library to create the codecs but feel free to define your own as long as they follow the ",(0,i.kt)("inlineCode",{parentName:"p"},"Codec")," interface)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import * as t from 'io-ts';\nimport { Endpoint } from 'ts-endpoint';\n\nconst User = t.type({\n  id: t.number,\n  name: t.string,\n  surname: t.string,\n  age: t.number\n})\n\nexport const getUser = Endpoint({\n  Input: {\n    Params: t.type({ id: NumberFromString }),\n  },\n  Method: 'GET',\n  getPath: ({ id }) => `user/${id}`,\n  Output: t.type({ user: User }),\n});\n\nconst createUser = Endpoint({\n  Input: {\n    Body: t.strict({\n      name: t.string,\n      surname: t.string,\n      age: t.number,\n    }),\n  },\n  Method: 'POST',\n  getPath: () => 'users',\n  Output: t.strict({ id: t.string }),\n});\n")))}f.isMDXComponent=!0}}]);